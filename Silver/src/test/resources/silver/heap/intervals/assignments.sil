
method test_assignVariable_int() {
	var x: Int
	x := 0
	assert(x == 0)
}

method test_assignVariable_ref() {
    var x: Ref
    var y: Ref
    x := new()
    y := x
    assert(x != null && null != y && x == y)
}

field val: Int

method test_assignField_int(this: Ref) {
    if (this != null) {
        this.val := 9
    } else {
        this := new()
        this.val := 0
    }
    assert(this.val >= 0 && this.val <= 9)
}

field next: Ref

method test_assignField_ref(b: Bool) {
    var x: Ref
    x := new()
    var y: Ref
    y := new()
    if (b) {
        x.next := y
        y.next := y
    } else {
        x.next := x
        y.next := x
    }
    assert (x.next != x || y.next != y)
}