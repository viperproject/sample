{"textVersion":"v2.2,js,ctx","jsonVersion":"v0.0,resolved","name":"AccelPhysics","comment":"Отскакивающий от стен шар. Эластичность стен настраивается.","icon":"target","color":"#ff66ff00","autoIcon":"target","autoColor":"#66ff00","platform":"current,accelerometer","showAd":false,"isLibrary":false,"allowExport":false,"decls":[{"name":"main","inParameters":[],"outParameters":[],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6310"},{"name":"board","parent":"data","declId":"b","nodeType":"propertyRef","id":"621"},{"op":":=","nodeType":"operator","id":"622"},{"nodeType":"singletonRef","name":"media","type":"Media","id":"6320"},{"name":"create full board","parent":"Media","nodeType":"propertyRef","id":"624"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"name":"board","parent":"data","declId":"b","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6310"}],"id":"630"},{"name":"create full board","parent":"Media","nodeType":"call","args":[{"nodeType":"singletonRef","name":"media","type":"Media","id":"6320"}],"id":"631"}],"id":"62"},"locals":[],"nodeType":"exprHolder","id":"61"},"nodeType":"exprStmt","id":"60"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6610"},{"name":"board","parent":"data","declId":"b","nodeType":"propertyRef","id":"651"},{"name":"create boundary","parent":"Board","nodeType":"propertyRef","id":"652"},{"op":"(","nodeType":"operator","id":"653"},{"op":"0","nodeType":"operator","id":"654"},{"op":")","nodeType":"operator","id":"655"}],"tree":{"name":"create boundary","parent":"Board","nodeType":"call","args":[{"name":"board","parent":"data","declId":"b","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6610"}],"id":"660"},{"nodeType":"numberLiteral","value":0,"id":"661"}],"id":"65"},"locals":[],"nodeType":"exprHolder","id":"64"},"nodeType":"exprStmt","id":"63"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6910"},{"name":"ball","parent":"data","declId":"h","nodeType":"propertyRef","id":"681"},{"op":":=","nodeType":"operator","id":"682"},{"nodeType":"singletonRef","name":"data","type":"data","id":"69210"},{"name":"board","parent":"data","declId":"b","nodeType":"propertyRef","id":"684"},{"name":"create ellipse","parent":"Board","nodeType":"propertyRef","id":"685"},{"op":"(","nodeType":"operator","id":"686"},{"op":"5","nodeType":"operator","id":"687"},{"op":"0","nodeType":"operator","id":"688"},{"op":",","nodeType":"operator","id":"689"},{"op":"5","nodeType":"operator","id":"68a"},{"op":"0","nodeType":"operator","id":"68b"},{"op":")","nodeType":"operator","id":"68c"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"name":"ball","parent":"data","declId":"h","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6910"}],"id":"690"},{"name":"create ellipse","parent":"Board","nodeType":"call","args":[{"name":"board","parent":"data","declId":"b","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"69210"}],"id":"6920"},{"nodeType":"numberLiteral","value":50,"id":"6921"},{"nodeType":"numberLiteral","value":50,"id":"6922"}],"id":"691"}],"id":"68"},"locals":[],"nodeType":"exprHolder","id":"67"},"nodeType":"exprStmt","id":"66"},{"expr":{"tokens":[{"nodeType":"localRef","name":"x","localId":"20","id":"6c0"},{"op":":=","nodeType":"operator","id":"6b1"},{"nodeType":"singletonRef","name":"wall","type":"Wall","id":"6c210"},{"name":"ask number","parent":"Wall","nodeType":"propertyRef","id":"6b3"},{"op":"(","nodeType":"operator","id":"6b4"},{"nodeType":"stringLiteral","value":"Insert elasticity between 0 and 100:","id":"6c211"},{"op":")","nodeType":"operator","id":"6b6"},{"op":"/","nodeType":"operator","id":"6b7"},{"op":"1","nodeType":"operator","id":"6b8"},{"op":"0","nodeType":"operator","id":"6b9"},{"op":"0","nodeType":"operator","id":"6ba"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"x","localId":"20","id":"6c0"},{"name":"/","parent":"Number","nodeType":"call","args":[{"name":"ask number","parent":"Wall","nodeType":"call","args":[{"nodeType":"singletonRef","name":"wall","type":"Wall","id":"6c210"},{"nodeType":"stringLiteral","value":"Insert elasticity between 0 and 100:","id":"6c211"}],"id":"6c20"},{"nodeType":"numberLiteral","value":100,"id":"6c21"}],"id":"6c1"}],"id":"6b"},"locals":[{"name":"x","type":"Number","nodeType":"localDef","id":"20"}],"nodeType":"exprHolder","id":"6a"},"nodeType":"exprStmt","id":"69"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6f10"},{"name":"ball","parent":"data","declId":"h","nodeType":"propertyRef","id":"6e1"},{"name":"set elasticity","parent":"Sprite","nodeType":"propertyRef","id":"6e2"},{"op":"(","nodeType":"operator","id":"6e3"},{"nodeType":"localRef","name":"x","localId":"20","id":"6f1"},{"op":")","nodeType":"operator","id":"6e5"}],"tree":{"name":"set elasticity","parent":"Sprite","nodeType":"call","args":[{"name":"ball","parent":"data","declId":"h","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6f10"}],"id":"6f0"},{"nodeType":"localRef","name":"x","localId":"20","id":"6f1"}],"id":"6e"},"locals":[],"nodeType":"exprHolder","id":"6d"},"nodeType":"exprStmt","id":"6c"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6i10"},{"name":"board","parent":"data","declId":"b","nodeType":"propertyRef","id":"6h1"},{"name":"post to wall","parent":"Board","nodeType":"propertyRef","id":"6h2"}],"tree":{"name":"post to wall","parent":"Board","nodeType":"call","args":[{"name":"board","parent":"data","declId":"b","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6i10"}],"id":"6i0"}],"id":"6h"},"locals":[],"nodeType":"exprHolder","id":"6g"},"nodeType":"exprStmt","id":"6f"}],"id":"1"},{"name":"gameloop","inParameters":[],"outParameters":[],"isPrivate":true,"isOffloaded":false,"isTest":false,"nodeType":"event","eventName":"gameloop","eventVariableId":null,"body":[{"expr":{"tokens":[{"nodeType":"singletonRef","name":"code","type":"code","id":"b30"},{"name":"physics","parent":"code","declId":"c","nodeType":"propertyRef","id":"b21"}],"tree":{"name":"physics","parent":"code","declId":"c","nodeType":"call","args":[{"nodeType":"singletonRef","name":"code","type":"code","id":"b30"}],"id":"b2"},"locals":[],"nodeType":"exprHolder","id":"b1"},"nodeType":"exprStmt","id":"b0"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"code","type":"code","id":"b60"},{"name":"color","parent":"code","declId":"i","nodeType":"propertyRef","id":"b51"}],"tree":{"name":"color","parent":"code","declId":"i","nodeType":"call","args":[{"nodeType":"singletonRef","name":"code","type":"code","id":"b60"}],"id":"b5"},"locals":[],"nodeType":"exprHolder","id":"b4"},"nodeType":"exprStmt","id":"b3"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"b910"},{"name":"board","parent":"data","declId":"b","nodeType":"propertyRef","id":"b81"},{"name":"post to wall","parent":"Board","nodeType":"propertyRef","id":"b82"}],"tree":{"name":"post to wall","parent":"Board","nodeType":"call","args":[{"name":"board","parent":"data","declId":"b","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"b910"}],"id":"b90"}],"id":"b8"},"locals":[],"nodeType":"exprHolder","id":"b7"},"nodeType":"exprStmt","id":"b6"},{"expr":{"tokens":[],"tree":{"nodeType":"singletonRef","name":"$skip","type":"Unknown","id":"bb"},"locals":[],"nodeType":"exprHolder","id":"ba"},"nodeType":"exprStmt","id":"b9"}],"id":"6"},{"name":"board","comment":"Main board\n","type":"Board","isReadonly":false,"nodeType":"data","id":"b"},{"name":"physics","inParameters":[],"outParameters":[],"isPrivate":true,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"expr":{"tokens":[{"nodeType":"localRef","name":"accel","localId":"d0","id":"h30"},{"op":":=","nodeType":"operator","id":"h21"},{"nodeType":"singletonRef","name":"senses","type":"Senses","id":"h3210"},{"name":"acceleration quick","parent":"Senses","nodeType":"propertyRef","id":"h23"},{"name":"scale","parent":"Vector3","nodeType":"propertyRef","id":"h24"},{"op":"(","nodeType":"operator","id":"h25"},{"op":"3","nodeType":"operator","id":"h26"},{"op":"5","nodeType":"operator","id":"h27"},{"op":"0","nodeType":"operator","id":"h28"},{"op":")","nodeType":"operator","id":"h29"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"accel","localId":"d0","id":"h30"},{"name":"scale","parent":"Vector3","nodeType":"call","args":[{"name":"acceleration quick","parent":"Senses","nodeType":"call","args":[{"nodeType":"singletonRef","name":"senses","type":"Senses","id":"h3210"}],"id":"h320"},{"nodeType":"numberLiteral","value":350,"id":"h321"}],"id":"h31"}],"id":"h2"},"locals":[{"name":"accel","type":"Vector3","nodeType":"localDef","id":"d0"}],"nodeType":"exprHolder","id":"h1"},"nodeType":"exprStmt","id":"h0"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"h610"},{"name":"board","parent":"data","declId":"b","nodeType":"propertyRef","id":"h51"},{"name":"set gravity","parent":"Board","nodeType":"propertyRef","id":"h52"},{"op":"(","nodeType":"operator","id":"h53"},{"nodeType":"localRef","name":"accel","localId":"d0","id":"h620"},{"name":"x","parent":"Vector3","nodeType":"propertyRef","id":"h55"},{"op":",","nodeType":"operator","id":"h56"},{"nodeType":"localRef","name":"accel","localId":"d0","id":"h630"},{"name":"y","parent":"Vector3","nodeType":"propertyRef","id":"h58"},{"op":")","nodeType":"operator","id":"h59"}],"tree":{"name":"set gravity","parent":"Board","nodeType":"call","args":[{"name":"board","parent":"data","declId":"b","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"h610"}],"id":"h60"},{"name":"x","parent":"Vector3","nodeType":"call","args":[{"nodeType":"localRef","name":"accel","localId":"d0","id":"h620"}],"id":"h61"},{"name":"y","parent":"Vector3","nodeType":"call","args":[{"nodeType":"localRef","name":"accel","localId":"d0","id":"h630"}],"id":"h62"}],"id":"h5"},"locals":[],"nodeType":"exprHolder","id":"h4"},"nodeType":"exprStmt","id":"h3"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"h910"},{"name":"board","parent":"data","declId":"b","nodeType":"propertyRef","id":"h81"},{"name":"evolve","parent":"Board","nodeType":"propertyRef","id":"h82"}],"tree":{"name":"evolve","parent":"Board","nodeType":"call","args":[{"name":"board","parent":"data","declId":"b","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"h910"}],"id":"h90"}],"id":"h8"},"locals":[],"nodeType":"exprHolder","id":"h7"},"nodeType":"exprStmt","id":"h6"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"hc10"},{"name":"board","parent":"data","declId":"b","nodeType":"propertyRef","id":"hb1"},{"name":"update on wall","parent":"Board","nodeType":"propertyRef","id":"hb2"}],"tree":{"name":"update on wall","parent":"Board","nodeType":"call","args":[{"name":"board","parent":"data","declId":"b","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"hc10"}],"id":"hc0"}],"id":"hb"},"locals":[],"nodeType":"exprHolder","id":"ha"},"nodeType":"exprStmt","id":"h9"}],"id":"c"},{"name":"ball","comment":"Main object\n","type":"Sprite","isReadonly":false,"nodeType":"data","id":"h"},{"name":"color","inParameters":[],"outParameters":[],"isPrivate":true,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"expr":{"tokens":[],"tree":{"nodeType":"singletonRef","name":"$skip","type":"Unknown","id":"n2"},"locals":[],"nodeType":"exprHolder","id":"n1"},"nodeType":"exprStmt","id":"n0"},{"condition":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"n6111110"},{"name":"ball","parent":"data","declId":"h","nodeType":"propertyRef","id":"n51"},{"name":"x","parent":"Sprite","nodeType":"propertyRef","id":"n52"},{"op":"≥","nodeType":"operator","id":"n53"},{"op":"4","nodeType":"operator","id":"n54"},{"op":"5","nodeType":"operator","id":"n55"},{"op":"2","nodeType":"operator","id":"n56"},{"op":"or","nodeType":"operator","id":"n57"},{"nodeType":"singletonRef","name":"data","type":"data","id":"n6112110"},{"name":"ball","parent":"data","declId":"h","nodeType":"propertyRef","id":"n59"},{"name":"x","parent":"Sprite","nodeType":"propertyRef","id":"n5a"},{"op":"≤","nodeType":"operator","id":"n5b"},{"op":"2","nodeType":"operator","id":"n5c"},{"op":"7","nodeType":"operator","id":"n5d"},{"op":"or","nodeType":"operator","id":"n5e"},{"nodeType":"singletonRef","name":"data","type":"data","id":"n612110"},{"name":"ball","parent":"data","declId":"h","nodeType":"propertyRef","id":"n5g"},{"name":"y","parent":"Sprite","nodeType":"propertyRef","id":"n5h"},{"op":"≥","nodeType":"operator","id":"n5i"},{"op":"7","nodeType":"operator","id":"n5j"},{"op":"7","nodeType":"operator","id":"n5k"},{"op":"0","nodeType":"operator","id":"n5l"},{"op":"or","nodeType":"operator","id":"n5m"},{"nodeType":"singletonRef","name":"data","type":"data","id":"n62110"},{"name":"ball","parent":"data","declId":"h","nodeType":"propertyRef","id":"n5o"},{"name":"y","parent":"Sprite","nodeType":"propertyRef","id":"n5p"},{"op":"≤","nodeType":"operator","id":"n5q"},{"op":"2","nodeType":"operator","id":"n5r"},{"op":"8","nodeType":"operator","id":"n5s"}],"tree":{"name":"or","parent":"Boolean","nodeType":"call","args":[{"name":"or","parent":"Boolean","nodeType":"call","args":[{"name":"or","parent":"Boolean","nodeType":"call","args":[{"name":"≥","parent":"Number","nodeType":"call","args":[{"name":"x","parent":"Sprite","nodeType":"call","args":[{"name":"ball","parent":"data","declId":"h","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"n6111110"}],"id":"n611110"}],"id":"n61110"},{"nodeType":"numberLiteral","value":452,"id":"n61111"}],"id":"n6110"},{"name":"≤","parent":"Number","nodeType":"call","args":[{"name":"x","parent":"Sprite","nodeType":"call","args":[{"name":"ball","parent":"data","declId":"h","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"n6112110"}],"id":"n611210"}],"id":"n61120"},{"nodeType":"numberLiteral","value":27,"id":"n61121"}],"id":"n6111"}],"id":"n610"},{"name":"≥","parent":"Number","nodeType":"call","args":[{"name":"y","parent":"Sprite","nodeType":"call","args":[{"name":"ball","parent":"data","declId":"h","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"n612110"}],"id":"n61210"}],"id":"n6120"},{"nodeType":"numberLiteral","value":770,"id":"n6121"}],"id":"n611"}],"id":"n60"},{"name":"≤","parent":"Number","nodeType":"call","args":[{"name":"y","parent":"Sprite","nodeType":"call","args":[{"name":"ball","parent":"data","declId":"h","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"n62110"}],"id":"n6210"}],"id":"n620"},{"nodeType":"numberLiteral","value":28,"id":"n621"}],"id":"n61"}],"id":"n5"},"locals":[],"nodeType":"exprHolder","id":"n4"},"thenBody":[{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"n7310"},{"name":"ball","parent":"data","declId":"h","nodeType":"propertyRef","id":"n721"},{"name":"set color","parent":"Sprite","nodeType":"propertyRef","id":"n722"},{"op":"(","nodeType":"operator","id":"n723"},{"nodeType":"singletonRef","name":"colors","type":"Colors","id":"n7320"},{"name":"random","parent":"Colors","nodeType":"propertyRef","id":"n725"},{"op":")","nodeType":"operator","id":"n726"}],"tree":{"name":"set color","parent":"Sprite","nodeType":"call","args":[{"name":"ball","parent":"data","declId":"h","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"n7310"}],"id":"n730"},{"name":"random","parent":"Colors","nodeType":"call","args":[{"nodeType":"singletonRef","name":"colors","type":"Colors","id":"n7320"}],"id":"n731"}],"id":"n72"},"locals":[],"nodeType":"exprHolder","id":"n71"},"nodeType":"exprStmt","id":"n70"}],"elseBody":[{"expr":{"tokens":[],"tree":{"nodeType":"singletonRef","name":"$skip","type":"Unknown","id":"n82"},"locals":[],"nodeType":"exprHolder","id":"n81"},"nodeType":"exprStmt","id":"n80"}],"nodeType":"if","id":"n3"}],"id":"i"},{"name":"tap board: board","inParameters":[{"name":"x","type":"Number","nodeType":"localDef","id":"o0"},{"name":"y","type":"Number","nodeType":"localDef","id":"o1"}],"outParameters":[],"isPrivate":true,"isOffloaded":false,"isTest":false,"nodeType":"event","eventName":"tap board: ","eventVariableId":"b","body":[{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"s310"},{"name":"ball","parent":"data","declId":"h","nodeType":"propertyRef","id":"s21"},{"name":"set pos","parent":"Sprite","nodeType":"propertyRef","id":"s22"},{"op":"(","nodeType":"operator","id":"s23"},{"nodeType":"localRef","name":"x","localId":"o0","id":"s31"},{"op":",","nodeType":"operator","id":"s25"},{"nodeType":"localRef","name":"y","localId":"o1","id":"s32"},{"op":")","nodeType":"operator","id":"s27"}],"tree":{"name":"set pos","parent":"Sprite","nodeType":"call","args":[{"name":"ball","parent":"data","declId":"h","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"s310"}],"id":"s30"},{"nodeType":"localRef","name":"x","localId":"o0","id":"s31"},{"nodeType":"localRef","name":"y","localId":"o1","id":"s32"}],"id":"s2"},"locals":[],"nodeType":"exprHolder","id":"s1"},"nodeType":"exprStmt","id":"s0"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"s610"},{"name":"ball","parent":"data","declId":"h","nodeType":"propertyRef","id":"s51"},{"name":"set speed","parent":"Sprite","nodeType":"propertyRef","id":"s52"},{"op":"(","nodeType":"operator","id":"s53"},{"op":"0","nodeType":"operator","id":"s54"},{"op":",","nodeType":"operator","id":"s55"},{"op":"0","nodeType":"operator","id":"s56"},{"op":")","nodeType":"operator","id":"s57"}],"tree":{"name":"set speed","parent":"Sprite","nodeType":"call","args":[{"name":"ball","parent":"data","declId":"h","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"s610"}],"id":"s60"},{"nodeType":"numberLiteral","value":0,"id":"s61"},{"nodeType":"numberLiteral","value":0,"id":"s62"}],"id":"s5"},"locals":[],"nodeType":"exprHolder","id":"s4"},"nodeType":"exprStmt","id":"s3"}],"id":"n"}],"nodeType":"app","id":"0"}
