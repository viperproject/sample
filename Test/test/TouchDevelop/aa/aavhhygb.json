{"textVersion":"v2.2,js,ctx","jsonVersion":"v0.0,resolved","name":"odata query builder","comment":"Help for building OData queries. #docsodata","icon":"FourColumn","color":"#ffFF91A4","autoIcon":"FourColumn","autoColor":"#FF91A4","platform":"current","showAd":false,"isLibrary":true,"allowExport":true,"decls":[{"name":"reset","inParameters":[],"outParameters":[],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"text":"Resets the query","nodeType":"comment","id":"60"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6410"},{"name":"count","parent":"data","declId":"l","nodeType":"propertyRef","id":"631"},{"op":":=","nodeType":"operator","id":"632"},{"op":"0","nodeType":"operator","id":"633"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"name":"count","parent":"data","declId":"l","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6410"}],"id":"640"},{"nodeType":"numberLiteral","value":0,"id":"641"}],"id":"63"},"locals":[],"nodeType":"exprHolder","id":"62"},"nodeType":"exprStmt","id":"61"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6710"},{"name":"skip","parent":"data","declId":"r","nodeType":"propertyRef","id":"661"},{"op":":=","nodeType":"operator","id":"662"},{"op":"0","nodeType":"operator","id":"663"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"name":"skip","parent":"data","declId":"r","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6710"}],"id":"670"},{"nodeType":"numberLiteral","value":0,"id":"671"}],"id":"66"},"locals":[],"nodeType":"exprHolder","id":"65"},"nodeType":"exprStmt","id":"64"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"records","type":"records","id":"6a10"},{"name":"order by index","parent":"records","declId":"s","nodeType":"propertyRef","id":"691"},{"name":"clear","parent":"order by index","nodeType":"propertyRef","id":"692"}],"tree":{"name":"clear","parent":"order by index","nodeType":"call","args":[{"name":"order by index","parent":"records","declId":"s","nodeType":"call","args":[{"nodeType":"singletonRef","name":"records","type":"records","id":"6a10"}],"id":"6a0"}],"id":"69"},"locals":[],"nodeType":"exprHolder","id":"68"},"nodeType":"exprStmt","id":"67"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6d10"},{"name":"filter","parent":"data","declId":"D","nodeType":"propertyRef","id":"6c1"},{"op":":=","nodeType":"operator","id":"6c2"},{"nodeType":"stringLiteral","value":"","id":"6d1"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"name":"filter","parent":"data","declId":"D","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6d10"}],"id":"6d0"},{"nodeType":"stringLiteral","value":"","id":"6d1"}],"id":"6c"},"locals":[],"nodeType":"exprHolder","id":"6b"},"nodeType":"exprStmt","id":"6a"}],"id":"1"},{"name":"add order by","inParameters":[{"name":"field name","type":"String","nodeType":"localDef","id":"70"},{"name":"ascending","type":"Boolean","nodeType":"localDef","id":"71"}],"outParameters":[],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"text":"Adds an `order by` clause for the field.","nodeType":"comment","id":"b0"},{"expr":{"tokens":[{"nodeType":"localRef","name":"order by","localId":"72","id":"b40"},{"op":":=","nodeType":"operator","id":"b31"},{"nodeType":"singletonRef","name":"records","type":"records","id":"b4210"},{"name":"order by index","parent":"records","declId":"s","nodeType":"propertyRef","id":"b33"},{"name":"at","parent":"order by index","nodeType":"propertyRef","id":"b34"},{"op":"(","nodeType":"operator","id":"b35"},{"nodeType":"localRef","name":"field name","localId":"70","id":"b421"},{"op":")","nodeType":"operator","id":"b37"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"order by","localId":"72","id":"b40"},{"name":"at","parent":"order by index","nodeType":"call","args":[{"name":"order by index","parent":"records","declId":"s","nodeType":"call","args":[{"nodeType":"singletonRef","name":"records","type":"records","id":"b4210"}],"id":"b420"},{"nodeType":"localRef","name":"field name","localId":"70","id":"b421"}],"id":"b41"}],"id":"b3"},"locals":[{"name":"order by","type":"order by","nodeType":"localDef","id":"72"}],"nodeType":"exprHolder","id":"b2"},"nodeType":"exprStmt","id":"b1"},{"expr":{"tokens":[{"nodeType":"localRef","name":"order by","localId":"72","id":"b710"},{"name":"ascending","parent":"order by","nodeType":"propertyRef","id":"b61"},{"name":"set","parent":"Boolean field","nodeType":"propertyRef","id":"b62"},{"op":"(","nodeType":"operator","id":"b63"},{"nodeType":"localRef","name":"ascending","localId":"71","id":"b71"},{"op":")","nodeType":"operator","id":"b65"}],"tree":{"name":"set","parent":"Boolean field","nodeType":"call","args":[{"name":"ascending","parent":"order by","nodeType":"call","args":[{"nodeType":"localRef","name":"order by","localId":"72","id":"b710"}],"id":"b70"},{"nodeType":"localRef","name":"ascending","localId":"71","id":"b71"}],"id":"b6"},"locals":[],"nodeType":"exprHolder","id":"b5"},"nodeType":"exprStmt","id":"b4"}],"id":"6"},{"name":"set filter","inParameters":[{"name":"condition","type":"String","nodeType":"localDef","id":"c0"}],"outParameters":[],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"g310"},{"name":"filter","parent":"data","declId":"D","nodeType":"propertyRef","id":"g21"},{"op":":=","nodeType":"operator","id":"g22"},{"nodeType":"localRef","name":"condition","localId":"c0","id":"g31"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"name":"filter","parent":"data","declId":"D","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"g310"}],"id":"g30"},{"nodeType":"localRef","name":"condition","localId":"c0","id":"g31"}],"id":"g2"},"locals":[],"nodeType":"exprHolder","id":"g1"},"nodeType":"exprStmt","id":"g0"}],"id":"b"},{"name":"set count","inParameters":[{"name":"value","type":"Number","nodeType":"localDef","id":"h0"}],"outParameters":[],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"l310"},{"name":"count","parent":"data","declId":"l","nodeType":"propertyRef","id":"l21"},{"op":":=","nodeType":"operator","id":"l22"},{"nodeType":"singletonRef","name":"math","type":"Math","id":"l320"},{"name":"max","parent":"Math","nodeType":"propertyRef","id":"l24"},{"op":"(","nodeType":"operator","id":"l25"},{"op":"1","nodeType":"operator","id":"l26"},{"op":",","nodeType":"operator","id":"l27"},{"nodeType":"localRef","name":"value","localId":"h0","id":"l322"},{"op":")","nodeType":"operator","id":"l29"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"name":"count","parent":"data","declId":"l","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"l310"}],"id":"l30"},{"name":"max","parent":"Math","nodeType":"call","args":[{"nodeType":"singletonRef","name":"math","type":"Math","id":"l320"},{"nodeType":"numberLiteral","value":1,"id":"l321"},{"nodeType":"localRef","name":"value","localId":"h0","id":"l322"}],"id":"l31"}],"id":"l2"},"locals":[],"nodeType":"exprHolder","id":"l1"},"nodeType":"exprStmt","id":"l0"}],"id":"g"},{"name":"count","comment":"","type":"Number","isReadonly":false,"nodeType":"data","id":"l"},{"name":"set skip","inParameters":[{"name":"value","type":"Number","nodeType":"localDef","id":"n0"}],"outParameters":[],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"r310"},{"name":"skip","parent":"data","declId":"r","nodeType":"propertyRef","id":"r21"},{"op":":=","nodeType":"operator","id":"r22"},{"nodeType":"localRef","name":"value","localId":"n0","id":"r31"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"name":"skip","parent":"data","declId":"r","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"r310"}],"id":"r30"},{"nodeType":"localRef","name":"value","localId":"n0","id":"r31"}],"id":"r2"},"locals":[],"nodeType":"exprHolder","id":"r1"},"nodeType":"exprStmt","id":"r0"}],"id":"m"},{"name":"skip","comment":"","type":"Number","isReadonly":false,"nodeType":"data","id":"r"},{"nodeType":"record","name":"order by","comment":"","category":"index","isCloudEnabled":false,"keys":[{"nodeType":"recordKey","name":"field name","type":"String","id":"t10"}],"fields":[{"nodeType":"recordField","name":"ascending","type":"Boolean","id":"t20"}],"id":"s"},{"name":"query","inParameters":[],"outParameters":[{"name":"q","type":"String","nodeType":"localDef","id":"u0"}],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"text":"Generates the OData query arguments. The arguments are already url encoded.","nodeType":"comment","id":"y0"},{"expr":{"tokens":[{"nodeType":"localRef","name":"args","localId":"u1","id":"y40"},{"op":":=","nodeType":"operator","id":"y31"},{"nodeType":"singletonRef","name":"collections","type":"Collections","id":"y420"},{"name":"create string collection","parent":"Collections","nodeType":"propertyRef","id":"y33"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"args","localId":"u1","id":"y40"},{"name":"create string collection","parent":"Collections","nodeType":"call","args":[{"nodeType":"singletonRef","name":"collections","type":"Collections","id":"y420"}],"id":"y41"}],"id":"y3"},"locals":[{"name":"args","type":"String Collection","nodeType":"localDef","id":"u1"}],"nodeType":"exprHolder","id":"y2"},"nodeType":"exprStmt","id":"y1"},{"condition":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"y710"},{"name":"count","parent":"data","declId":"l","nodeType":"propertyRef","id":"y61"},{"op":">","nodeType":"operator","id":"y62"},{"op":"0","nodeType":"operator","id":"y63"}],"tree":{"name":">","parent":"Number","nodeType":"call","args":[{"name":"count","parent":"data","declId":"l","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"y710"}],"id":"y70"},{"nodeType":"numberLiteral","value":0,"id":"y71"}],"id":"y6"},"locals":[],"nodeType":"exprHolder","id":"y5"},"thenBody":[{"expr":{"tokens":[{"nodeType":"localRef","name":"args","localId":"u1","id":"y830"},{"name":"add","parent":"String Collection","nodeType":"propertyRef","id":"y821"},{"op":"(","nodeType":"operator","id":"y822"},{"nodeType":"stringLiteral","value":"$count=","id":"y8320"},{"op":"∥","nodeType":"operator","id":"y824"},{"nodeType":"singletonRef","name":"data","type":"data","id":"y83220"},{"name":"count","parent":"data","declId":"l","nodeType":"propertyRef","id":"y826"},{"op":")","nodeType":"operator","id":"y827"}],"tree":{"name":"add","parent":"String Collection","nodeType":"call","args":[{"nodeType":"localRef","name":"args","localId":"u1","id":"y830"},{"name":"∥","parent":"String","nodeType":"call","args":[{"nodeType":"stringLiteral","value":"$count=","id":"y8320"},{"name":"count","parent":"data","declId":"l","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"y83220"}],"id":"y8321"}],"id":"y831"}],"id":"y82"},"locals":[],"nodeType":"exprHolder","id":"y81"},"nodeType":"exprStmt","id":"y80"}],"elseBody":[{"expr":{"tokens":[],"tree":{"nodeType":"singletonRef","name":"$skip","type":"Unknown","id":"y92"},"locals":[],"nodeType":"exprHolder","id":"y91"},"nodeType":"exprStmt","id":"y90"}],"nodeType":"if","id":"y4"},{"condition":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"yc10"},{"name":"skip","parent":"data","declId":"r","nodeType":"propertyRef","id":"yb1"},{"op":">","nodeType":"operator","id":"yb2"},{"op":"0","nodeType":"operator","id":"yb3"}],"tree":{"name":">","parent":"Number","nodeType":"call","args":[{"name":"skip","parent":"data","declId":"r","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"yc10"}],"id":"yc0"},{"nodeType":"numberLiteral","value":0,"id":"yc1"}],"id":"yb"},"locals":[],"nodeType":"exprHolder","id":"ya"},"thenBody":[{"expr":{"tokens":[{"nodeType":"localRef","name":"args","localId":"u1","id":"yd30"},{"name":"add","parent":"String Collection","nodeType":"propertyRef","id":"yd21"},{"op":"(","nodeType":"operator","id":"yd22"},{"nodeType":"stringLiteral","value":"$skip=","id":"yd320"},{"op":"∥","nodeType":"operator","id":"yd24"},{"nodeType":"singletonRef","name":"data","type":"data","id":"yd3220"},{"name":"skip","parent":"data","declId":"r","nodeType":"propertyRef","id":"yd26"},{"op":")","nodeType":"operator","id":"yd27"}],"tree":{"name":"add","parent":"String Collection","nodeType":"call","args":[{"nodeType":"localRef","name":"args","localId":"u1","id":"yd30"},{"name":"∥","parent":"String","nodeType":"call","args":[{"nodeType":"stringLiteral","value":"$skip=","id":"yd320"},{"name":"skip","parent":"data","declId":"r","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"yd3220"}],"id":"yd321"}],"id":"yd31"}],"id":"yd2"},"locals":[],"nodeType":"exprHolder","id":"yd1"},"nodeType":"exprStmt","id":"yd0"}],"elseBody":[{"expr":{"tokens":[],"tree":{"nodeType":"singletonRef","name":"$skip","type":"Unknown","id":"ye2"},"locals":[],"nodeType":"exprHolder","id":"ye1"},"nodeType":"exprStmt","id":"ye0"}],"nodeType":"if","id":"y9"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"code","type":"code","id":"yh0"},{"name":"render order by","parent":"code","declId":"y","nodeType":"propertyRef","id":"yg1"},{"op":"(","nodeType":"operator","id":"yg2"},{"nodeType":"localRef","name":"args","localId":"u1","id":"yh1"},{"op":")","nodeType":"operator","id":"yg4"}],"tree":{"name":"render order by","parent":"code","declId":"y","nodeType":"call","args":[{"nodeType":"singletonRef","name":"code","type":"code","id":"yh0"},{"nodeType":"localRef","name":"args","localId":"u1","id":"yh1"}],"id":"yg"},"locals":[],"nodeType":"exprHolder","id":"yf"},"nodeType":"exprStmt","id":"ye"},{"expr":{"tokens":[{"nodeType":"localRef","name":"q","localId":"u0","id":"yk0"},{"op":":=","nodeType":"operator","id":"yj1"},{"nodeType":"localRef","name":"args","localId":"u1","id":"yk20"},{"name":"join","parent":"String Collection","nodeType":"propertyRef","id":"yj3"},{"op":"(","nodeType":"operator","id":"yj4"},{"nodeType":"stringLiteral","value":"&","id":"yk21"},{"op":")","nodeType":"operator","id":"yj6"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"q","localId":"u0","id":"yk0"},{"name":"join","parent":"String Collection","nodeType":"call","args":[{"nodeType":"localRef","name":"args","localId":"u1","id":"yk20"},{"nodeType":"stringLiteral","value":"&","id":"yk21"}],"id":"yk1"}],"id":"yj"},"locals":[],"nodeType":"exprHolder","id":"yi"},"nodeType":"exprStmt","id":"yh"}],"id":"t"},{"name":"render order by","inParameters":[{"name":"url","type":"String Collection","nodeType":"localDef","id":"z0"}],"outParameters":[],"isPrivate":true,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"condition":{"tokens":[{"nodeType":"singletonRef","name":"records","type":"records","id":"D3110"},{"name":"order by index","parent":"records","declId":"s","nodeType":"propertyRef","id":"D21"},{"name":"count","parent":"order by index","nodeType":"propertyRef","id":"D22"},{"op":">","nodeType":"operator","id":"D23"},{"op":"0","nodeType":"operator","id":"D24"}],"tree":{"name":">","parent":"Number","nodeType":"call","args":[{"name":"count","parent":"order by index","nodeType":"call","args":[{"name":"order by index","parent":"records","declId":"s","nodeType":"call","args":[{"nodeType":"singletonRef","name":"records","type":"records","id":"D3110"}],"id":"D310"}],"id":"D30"},{"nodeType":"numberLiteral","value":0,"id":"D31"}],"id":"D2"},"locals":[],"nodeType":"exprHolder","id":"D1"},"thenBody":[{"expr":{"tokens":[{"nodeType":"localRef","name":"orders","localId":"z1","id":"D430"},{"op":":=","nodeType":"operator","id":"D421"},{"nodeType":"singletonRef","name":"collections","type":"Collections","id":"D4320"},{"name":"create string collection","parent":"Collections","nodeType":"propertyRef","id":"D423"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"orders","localId":"z1","id":"D430"},{"name":"create string collection","parent":"Collections","nodeType":"call","args":[{"nodeType":"singletonRef","name":"collections","type":"Collections","id":"D4320"}],"id":"D431"}],"id":"D42"},"locals":[{"name":"orders","type":"String Collection","nodeType":"localDef","id":"z1"}],"nodeType":"exprHolder","id":"D41"},"nodeType":"exprStmt","id":"D40"},{"iterator":{"name":"e","type":"order by","nodeType":"localDef","id":"z2"},"collection":{"tokens":[{"nodeType":"singletonRef","name":"records","type":"records","id":"D460"},{"name":"order by index","parent":"records","declId":"s","nodeType":"propertyRef","id":"D451"}],"tree":{"name":"order by index","parent":"records","declId":"s","nodeType":"call","args":[{"nodeType":"singletonRef","name":"records","type":"records","id":"D460"}],"id":"D45"},"locals":[],"nodeType":"exprHolder","id":"D44"},"conditions":[{"condition":{"tokens":[{"nodeType":"booleanLiteral","value":true,"id":"D472"}],"tree":{"nodeType":"booleanLiteral","value":true,"id":"D472"},"locals":[],"nodeType":"exprHolder","id":"D471"},"nodeType":"where","id":"D470"}],"body":[{"expr":{"tokens":[{"nodeType":"localRef","name":"item","localId":"z3","id":"D4830"},{"op":":=","nodeType":"operator","id":"D4821"},{"nodeType":"localRef","name":"e","localId":"z2","id":"D483210"},{"name":"field name","parent":"order by","nodeType":"propertyRef","id":"D4823"},{"op":"∥","nodeType":"operator","id":"D4824"},{"nodeType":"stringLiteral","value":" ","id":"D48321"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"item","localId":"z3","id":"D4830"},{"name":"∥","parent":"String","nodeType":"call","args":[{"name":"field name","parent":"order by","nodeType":"call","args":[{"nodeType":"localRef","name":"e","localId":"z2","id":"D483210"}],"id":"D48320"},{"nodeType":"stringLiteral","value":" ","id":"D48321"}],"id":"D4831"}],"id":"D482"},"locals":[{"name":"item","type":"String","nodeType":"localDef","id":"z3"}],"nodeType":"exprHolder","id":"D481"},"nodeType":"exprStmt","id":"D480"},{"condition":{"tokens":[{"nodeType":"localRef","name":"e","localId":"z2","id":"D48610"},{"name":"ascending","parent":"order by","nodeType":"propertyRef","id":"D4851"},{"name":"get","parent":"Boolean field","nodeType":"propertyRef","id":"D4852"}],"tree":{"name":"get","parent":"Boolean field","nodeType":"call","args":[{"name":"ascending","parent":"order by","nodeType":"call","args":[{"nodeType":"localRef","name":"e","localId":"z2","id":"D48610"}],"id":"D4860"}],"id":"D485"},"locals":[],"nodeType":"exprHolder","id":"D484"},"thenBody":[{"expr":{"tokens":[{"nodeType":"localRef","name":"item","localId":"z3","id":"D48730"},{"op":":=","nodeType":"operator","id":"D48721"},{"nodeType":"localRef","name":"item","localId":"z3","id":"D487320"},{"op":"∥","nodeType":"operator","id":"D48723"},{"nodeType":"stringLiteral","value":"asc","id":"D487321"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"item","localId":"z3","id":"D48730"},{"name":"∥","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"item","localId":"z3","id":"D487320"},{"nodeType":"stringLiteral","value":"asc","id":"D487321"}],"id":"D48731"}],"id":"D4872"},"locals":[],"nodeType":"exprHolder","id":"D4871"},"nodeType":"exprStmt","id":"D4870"}],"elseBody":[{"expr":{"tokens":[{"nodeType":"localRef","name":"item","localId":"z3","id":"D48830"},{"op":":=","nodeType":"operator","id":"D48821"},{"nodeType":"localRef","name":"item","localId":"z3","id":"D488320"},{"op":"∥","nodeType":"operator","id":"D48823"},{"nodeType":"stringLiteral","value":"desc","id":"D488321"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"item","localId":"z3","id":"D48830"},{"name":"∥","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"item","localId":"z3","id":"D488320"},{"nodeType":"stringLiteral","value":"desc","id":"D488321"}],"id":"D48831"}],"id":"D4882"},"locals":[],"nodeType":"exprHolder","id":"D4881"},"nodeType":"exprStmt","id":"D4880"}],"nodeType":"if","id":"D483"},{"expr":{"tokens":[{"nodeType":"localRef","name":"orders","localId":"z1","id":"D48b0"},{"name":"add","parent":"String Collection","nodeType":"propertyRef","id":"D48a1"},{"op":"(","nodeType":"operator","id":"D48a2"},{"nodeType":"localRef","name":"item","localId":"z3","id":"D48b1"},{"op":")","nodeType":"operator","id":"D48a4"}],"tree":{"name":"add","parent":"String Collection","nodeType":"call","args":[{"nodeType":"localRef","name":"orders","localId":"z1","id":"D48b0"},{"nodeType":"localRef","name":"item","localId":"z3","id":"D48b1"}],"id":"D48a"},"locals":[],"nodeType":"exprHolder","id":"D489"},"nodeType":"exprStmt","id":"D488"}],"nodeType":"foreach","id":"D43"},{"expr":{"tokens":[{"nodeType":"localRef","name":"url","localId":"z0","id":"D4b0"},{"name":"add","parent":"String Collection","nodeType":"propertyRef","id":"D4a1"},{"op":"(","nodeType":"operator","id":"D4a2"},{"nodeType":"stringLiteral","value":"$orderby=","id":"D4b20"},{"op":"∥","nodeType":"operator","id":"D4a4"},{"nodeType":"singletonRef","name":"web","type":"Web","id":"D4b220"},{"name":"url encode","parent":"Web","nodeType":"propertyRef","id":"D4a6"},{"op":"(","nodeType":"operator","id":"D4a7"},{"nodeType":"localRef","name":"orders","localId":"z1","id":"D4b2220"},{"name":"join","parent":"String Collection","nodeType":"propertyRef","id":"D4a9"},{"op":"(","nodeType":"operator","id":"D4aa"},{"nodeType":"stringLiteral","value":",","id":"D4b2221"},{"op":")","nodeType":"operator","id":"D4ac"},{"op":")","nodeType":"operator","id":"D4ad"},{"op":")","nodeType":"operator","id":"D4ae"}],"tree":{"name":"add","parent":"String Collection","nodeType":"call","args":[{"nodeType":"localRef","name":"url","localId":"z0","id":"D4b0"},{"name":"∥","parent":"String","nodeType":"call","args":[{"nodeType":"stringLiteral","value":"$orderby=","id":"D4b20"},{"name":"url encode","parent":"Web","nodeType":"call","args":[{"nodeType":"singletonRef","name":"web","type":"Web","id":"D4b220"},{"name":"join","parent":"String Collection","nodeType":"call","args":[{"nodeType":"localRef","name":"orders","localId":"z1","id":"D4b2220"},{"nodeType":"stringLiteral","value":",","id":"D4b2221"}],"id":"D4b221"}],"id":"D4b21"}],"id":"D4b1"}],"id":"D4a"},"locals":[],"nodeType":"exprHolder","id":"D49"},"nodeType":"exprStmt","id":"D48"}],"elseBody":[{"expr":{"tokens":[],"tree":{"nodeType":"singletonRef","name":"$skip","type":"Unknown","id":"D52"},"locals":[],"nodeType":"exprHolder","id":"D51"},"nodeType":"exprStmt","id":"D50"}],"nodeType":"if","id":"D0"}],"id":"y"},{"name":"filter","comment":"","type":"String","isReadonly":false,"nodeType":"data","id":"D"},{"name":"and","inParameters":[{"name":"left","type":"String","nodeType":"localDef","id":"F0"},{"name":"right","type":"String","nodeType":"localDef","id":"F1"}],"outParameters":[{"name":"s","type":"String","nodeType":"localDef","id":"F2"}],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"text":"Combines two expressions with a logical and.","nodeType":"comment","id":"J0"},{"condition":{"tokens":[{"nodeType":"localRef","name":"left","localId":"F0","id":"J40"},{"name":"is empty","parent":"String","nodeType":"propertyRef","id":"J31"}],"tree":{"name":"is empty","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"left","localId":"F0","id":"J40"}],"id":"J3"},"locals":[],"nodeType":"exprHolder","id":"J2"},"thenBody":[{"expr":{"tokens":[{"nodeType":"localRef","name":"s","localId":"F2","id":"J530"},{"op":":=","nodeType":"operator","id":"J521"},{"nodeType":"localRef","name":"right","localId":"F1","id":"J531"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"s","localId":"F2","id":"J530"},{"nodeType":"localRef","name":"right","localId":"F1","id":"J531"}],"id":"J52"},"locals":[],"nodeType":"exprHolder","id":"J51"},"nodeType":"exprStmt","id":"J50"}],"elseBody":[{"condition":{"tokens":[{"nodeType":"localRef","name":"right","localId":"F1","id":"J630"},{"name":"is empty","parent":"String","nodeType":"propertyRef","id":"J621"}],"tree":{"name":"is empty","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"right","localId":"F1","id":"J630"}],"id":"J62"},"locals":[],"nodeType":"exprHolder","id":"J61"},"thenBody":[{"expr":{"tokens":[{"nodeType":"localRef","name":"s","localId":"F2","id":"J6430"},{"op":":=","nodeType":"operator","id":"J6421"},{"nodeType":"localRef","name":"left","localId":"F0","id":"J6431"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"s","localId":"F2","id":"J6430"},{"nodeType":"localRef","name":"left","localId":"F0","id":"J6431"}],"id":"J642"},"locals":[],"nodeType":"exprHolder","id":"J641"},"nodeType":"exprStmt","id":"J640"}],"elseBody":[{"expr":{"tokens":[{"nodeType":"localRef","name":"s","localId":"F2","id":"J6530"},{"op":":=","nodeType":"operator","id":"J6521"},{"nodeType":"stringLiteral","value":"(","id":"J65321110"},{"op":"∥","nodeType":"operator","id":"J6523"},{"nodeType":"localRef","name":"left","localId":"F0","id":"J65321111"},{"op":"∥","nodeType":"operator","id":"J6525"},{"nodeType":"stringLiteral","value":" and ","id":"J6532111"},{"op":"∥","nodeType":"operator","id":"J6527"},{"nodeType":"localRef","name":"right","localId":"F1","id":"J653211"},{"op":"∥","nodeType":"operator","id":"J6529"},{"nodeType":"stringLiteral","value":")","id":"J65321"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"s","localId":"F2","id":"J6530"},{"name":"∥","parent":"String","nodeType":"call","args":[{"name":"∥","parent":"String","nodeType":"call","args":[{"name":"∥","parent":"String","nodeType":"call","args":[{"name":"∥","parent":"String","nodeType":"call","args":[{"nodeType":"stringLiteral","value":"(","id":"J65321110"},{"nodeType":"localRef","name":"left","localId":"F0","id":"J65321111"}],"id":"J6532110"},{"nodeType":"stringLiteral","value":" and ","id":"J6532111"}],"id":"J653210"},{"nodeType":"localRef","name":"right","localId":"F1","id":"J653211"}],"id":"J65320"},{"nodeType":"stringLiteral","value":")","id":"J65321"}],"id":"J6531"}],"id":"J652"},"locals":[],"nodeType":"exprHolder","id":"J651"},"nodeType":"exprStmt","id":"J650"}],"nodeType":"if","id":"J60"}],"nodeType":"if","id":"J1"}],"id":"E"},{"name":"or","inParameters":[{"name":"left","type":"String","nodeType":"localDef","id":"K0"},{"name":"right","type":"String","nodeType":"localDef","id":"K1"}],"outParameters":[{"name":"s","type":"String","nodeType":"localDef","id":"K2"}],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"text":"Combines two expressions with a logical or.","nodeType":"comment","id":"O0"},{"condition":{"tokens":[{"nodeType":"localRef","name":"left","localId":"K0","id":"O40"},{"name":"is empty","parent":"String","nodeType":"propertyRef","id":"O31"}],"tree":{"name":"is empty","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"left","localId":"K0","id":"O40"}],"id":"O3"},"locals":[],"nodeType":"exprHolder","id":"O2"},"thenBody":[{"expr":{"tokens":[{"nodeType":"localRef","name":"s","localId":"K2","id":"O530"},{"op":":=","nodeType":"operator","id":"O521"},{"nodeType":"localRef","name":"right","localId":"K1","id":"O531"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"s","localId":"K2","id":"O530"},{"nodeType":"localRef","name":"right","localId":"K1","id":"O531"}],"id":"O52"},"locals":[],"nodeType":"exprHolder","id":"O51"},"nodeType":"exprStmt","id":"O50"}],"elseBody":[{"condition":{"tokens":[{"nodeType":"localRef","name":"right","localId":"K1","id":"O630"},{"name":"is empty","parent":"String","nodeType":"propertyRef","id":"O621"}],"tree":{"name":"is empty","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"right","localId":"K1","id":"O630"}],"id":"O62"},"locals":[],"nodeType":"exprHolder","id":"O61"},"thenBody":[{"expr":{"tokens":[{"nodeType":"localRef","name":"s","localId":"K2","id":"O6430"},{"op":":=","nodeType":"operator","id":"O6421"},{"nodeType":"localRef","name":"left","localId":"K0","id":"O6431"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"s","localId":"K2","id":"O6430"},{"nodeType":"localRef","name":"left","localId":"K0","id":"O6431"}],"id":"O642"},"locals":[],"nodeType":"exprHolder","id":"O641"},"nodeType":"exprStmt","id":"O640"}],"elseBody":[{"expr":{"tokens":[{"nodeType":"localRef","name":"s","localId":"K2","id":"O6530"},{"op":":=","nodeType":"operator","id":"O6521"},{"nodeType":"stringLiteral","value":"(","id":"O65321110"},{"op":"∥","nodeType":"operator","id":"O6523"},{"nodeType":"localRef","name":"left","localId":"K0","id":"O65321111"},{"op":"∥","nodeType":"operator","id":"O6525"},{"nodeType":"stringLiteral","value":" or ","id":"O6532111"},{"op":"∥","nodeType":"operator","id":"O6527"},{"nodeType":"localRef","name":"right","localId":"K1","id":"O653211"},{"op":"∥","nodeType":"operator","id":"O6529"},{"nodeType":"stringLiteral","value":")","id":"O65321"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"s","localId":"K2","id":"O6530"},{"name":"∥","parent":"String","nodeType":"call","args":[{"name":"∥","parent":"String","nodeType":"call","args":[{"name":"∥","parent":"String","nodeType":"call","args":[{"name":"∥","parent":"String","nodeType":"call","args":[{"nodeType":"stringLiteral","value":"(","id":"O65321110"},{"nodeType":"localRef","name":"left","localId":"K0","id":"O65321111"}],"id":"O6532110"},{"nodeType":"stringLiteral","value":" or ","id":"O6532111"}],"id":"O653210"},{"nodeType":"localRef","name":"right","localId":"K1","id":"O653211"}],"id":"O65320"},{"nodeType":"stringLiteral","value":")","id":"O65321"}],"id":"O6531"}],"id":"O652"},"locals":[],"nodeType":"exprHolder","id":"O651"},"nodeType":"exprStmt","id":"O650"}],"nodeType":"if","id":"O60"}],"nodeType":"if","id":"O1"}],"id":"J"},{"name":"not","inParameters":[{"name":"expr","type":"String","nodeType":"localDef","id":"P0"}],"outParameters":[{"name":"s","type":"String","nodeType":"localDef","id":"P1"}],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"text":"Negates the expression","nodeType":"comment","id":"T0"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"contract","type":"Contract","id":"T40"},{"name":"requires","parent":"Contract","nodeType":"propertyRef","id":"T31"},{"op":"(","nodeType":"operator","id":"T32"},{"op":"not","nodeType":"operator","id":"T33"},{"nodeType":"localRef","name":"expr","localId":"P0","id":"T4210"},{"name":"is empty","parent":"String","nodeType":"propertyRef","id":"T35"},{"op":",","nodeType":"operator","id":"T36"},{"nodeType":"stringLiteral","value":"","id":"T42"},{"op":")","nodeType":"operator","id":"T38"}],"tree":{"name":"requires","parent":"Contract","nodeType":"call","args":[{"nodeType":"singletonRef","name":"contract","type":"Contract","id":"T40"},{"name":"not","parent":"Boolean","nodeType":"call","args":[{"name":"is empty","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"expr","localId":"P0","id":"T4210"}],"id":"T420"}],"id":"T41"},{"nodeType":"stringLiteral","value":"","id":"T42"}],"id":"T3"},"locals":[],"nodeType":"exprHolder","id":"T2"},"nodeType":"exprStmt","id":"T1"},{"expr":{"tokens":[{"nodeType":"localRef","name":"s","localId":"P1","id":"T70"},{"op":":=","nodeType":"operator","id":"T61"},{"nodeType":"stringLiteral","value":"(not ","id":"T7210"},{"op":"∥","nodeType":"operator","id":"T63"},{"nodeType":"localRef","name":"expr","localId":"P0","id":"T7211"},{"op":"∥","nodeType":"operator","id":"T65"},{"nodeType":"stringLiteral","value":")","id":"T721"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"s","localId":"P1","id":"T70"},{"name":"∥","parent":"String","nodeType":"call","args":[{"name":"∥","parent":"String","nodeType":"call","args":[{"nodeType":"stringLiteral","value":"(not ","id":"T7210"},{"nodeType":"localRef","name":"expr","localId":"P0","id":"T7211"}],"id":"T720"},{"nodeType":"stringLiteral","value":")","id":"T721"}],"id":"T71"}],"id":"T6"},"locals":[],"nodeType":"exprHolder","id":"T5"},"nodeType":"exprStmt","id":"T4"}],"id":"O"},{"name":"=","inParameters":[{"name":"left","type":"String","nodeType":"localDef","id":"U0"},{"name":"right","type":"String","nodeType":"localDef","id":"U1"}],"outParameters":[{"name":"r","type":"String","nodeType":"localDef","id":"U2"}],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"expr":{"tokens":[{"nodeType":"singletonRef","name":"contract","type":"Contract","id":"Y30"},{"name":"requires","parent":"Contract","nodeType":"propertyRef","id":"Y21"},{"op":"(","nodeType":"operator","id":"Y22"},{"op":"not","nodeType":"operator","id":"Y23"},{"nodeType":"localRef","name":"left","localId":"U0","id":"Y3210"},{"name":"is empty","parent":"String","nodeType":"propertyRef","id":"Y25"},{"op":",","nodeType":"operator","id":"Y26"},{"nodeType":"stringLiteral","value":"","id":"Y32"},{"op":")","nodeType":"operator","id":"Y28"}],"tree":{"name":"requires","parent":"Contract","nodeType":"call","args":[{"nodeType":"singletonRef","name":"contract","type":"Contract","id":"Y30"},{"name":"not","parent":"Boolean","nodeType":"call","args":[{"name":"is empty","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"left","localId":"U0","id":"Y3210"}],"id":"Y320"}],"id":"Y31"},{"nodeType":"stringLiteral","value":"","id":"Y32"}],"id":"Y2"},"locals":[],"nodeType":"exprHolder","id":"Y1"},"nodeType":"exprStmt","id":"Y0"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"contract","type":"Contract","id":"Y60"},{"name":"requires","parent":"Contract","nodeType":"propertyRef","id":"Y51"},{"op":"(","nodeType":"operator","id":"Y52"},{"op":"not","nodeType":"operator","id":"Y53"},{"nodeType":"localRef","name":"right","localId":"U1","id":"Y6210"},{"name":"is empty","parent":"String","nodeType":"propertyRef","id":"Y55"},{"op":",","nodeType":"operator","id":"Y56"},{"nodeType":"stringLiteral","value":"","id":"Y62"},{"op":")","nodeType":"operator","id":"Y58"}],"tree":{"name":"requires","parent":"Contract","nodeType":"call","args":[{"nodeType":"singletonRef","name":"contract","type":"Contract","id":"Y60"},{"name":"not","parent":"Boolean","nodeType":"call","args":[{"name":"is empty","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"right","localId":"U1","id":"Y6210"}],"id":"Y620"}],"id":"Y61"},{"nodeType":"stringLiteral","value":"","id":"Y62"}],"id":"Y5"},"locals":[],"nodeType":"exprHolder","id":"Y4"},"nodeType":"exprStmt","id":"Y3"},{"expr":{"tokens":[{"nodeType":"localRef","name":"r","localId":"U2","id":"Y90"},{"op":":=","nodeType":"operator","id":"Y81"},{"nodeType":"stringLiteral","value":"(","id":"Y921110"},{"op":"∥","nodeType":"operator","id":"Y83"},{"nodeType":"localRef","name":"left","localId":"U0","id":"Y921111"},{"op":"∥","nodeType":"operator","id":"Y85"},{"nodeType":"stringLiteral","value":"=","id":"Y92111"},{"op":"∥","nodeType":"operator","id":"Y87"},{"nodeType":"localRef","name":"right","localId":"U1","id":"Y9211"},{"op":"∥","nodeType":"operator","id":"Y89"},{"nodeType":"stringLiteral","value":")","id":"Y921"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"r","localId":"U2","id":"Y90"},{"name":"∥","parent":"String","nodeType":"call","args":[{"name":"∥","parent":"String","nodeType":"call","args":[{"name":"∥","parent":"String","nodeType":"call","args":[{"name":"∥","parent":"String","nodeType":"call","args":[{"nodeType":"stringLiteral","value":"(","id":"Y921110"},{"nodeType":"localRef","name":"left","localId":"U0","id":"Y921111"}],"id":"Y92110"},{"nodeType":"stringLiteral","value":"=","id":"Y92111"}],"id":"Y9210"},{"nodeType":"localRef","name":"right","localId":"U1","id":"Y9211"}],"id":"Y920"},{"nodeType":"stringLiteral","value":")","id":"Y921"}],"id":"Y91"}],"id":"Y8"},"locals":[],"nodeType":"exprHolder","id":"Y7"},"nodeType":"exprStmt","id":"Y6"}],"id":"T"},{"name":"quote","inParameters":[{"name":"s","type":"String","nodeType":"localDef","id":"Z0"}],"outParameters":[{"name":"r","type":"String","nodeType":"localDef","id":"Z1"}],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"text":"Quotes and escapes a string.","nodeType":"comment","id":"65.0"},{"expr":{"tokens":[{"nodeType":"localRef","name":"r","localId":"Z1","id":"65.40"},{"op":":=","nodeType":"operator","id":"65.31"},{"nodeType":"stringLiteral","value":"\"","id":"65.4210"},{"op":"∥","nodeType":"operator","id":"65.33"},{"nodeType":"localRef","name":"s","localId":"Z0","id":"65.4211"},{"op":"∥","nodeType":"operator","id":"65.35"},{"nodeType":"stringLiteral","value":"\"","id":"65.421"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"r","localId":"Z1","id":"65.40"},{"name":"∥","parent":"String","nodeType":"call","args":[{"name":"∥","parent":"String","nodeType":"call","args":[{"nodeType":"stringLiteral","value":"\"","id":"65.4210"},{"nodeType":"localRef","name":"s","localId":"Z0","id":"65.4211"}],"id":"65.420"},{"nodeType":"stringLiteral","value":"\"","id":"65.421"}],"id":"65.41"}],"id":"65.3"},"locals":[],"nodeType":"exprHolder","id":"65.2"},"nodeType":"exprStmt","id":"65.1"}],"id":"Y"},{"name":"set top","inParameters":[{"name":"value","type":"Number","nodeType":"localDef","id":"66.0"}],"outParameters":[],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"text":"Sets the number of elements to take.","nodeType":"comment","id":"70.0"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"70.410"},{"name":"top","parent":"data","declId":"70.","nodeType":"propertyRef","id":"70.31"},{"op":":=","nodeType":"operator","id":"70.32"},{"nodeType":"localRef","name":"value","localId":"66.0","id":"70.41"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"name":"top","parent":"data","declId":"70.","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"70.410"}],"id":"70.40"},{"nodeType":"localRef","name":"value","localId":"66.0","id":"70.41"}],"id":"70.3"},"locals":[],"nodeType":"exprHolder","id":"70.2"},"nodeType":"exprStmt","id":"70.1"}],"id":"65."},{"name":"top","comment":"","type":"Number","isReadonly":false,"nodeType":"data","id":"70."}],"nodeType":"app","id":"0"}
