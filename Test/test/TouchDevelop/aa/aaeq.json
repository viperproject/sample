{"textVersion":"v2.2,js,ctx","jsonVersion":"v0.0,resolved","name":"try phone call","comment":"","icon":"Pen","color":"#ff008080","autoIcon":"Pen","autoColor":"#008080","platform":"current","showAd":false,"isLibrary":false,"allowExport":false,"decls":[{"name":"card call","inParameters":[],"outParameters":[],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"expr":{"tokens":[{"nodeType":"singletonRef","name":"wall","type":"Wall","id":"630"},{"name":"prompt","parent":"Wall","nodeType":"propertyRef","id":"621"},{"op":"(","nodeType":"operator","id":"622"},{"nodeType":"stringLiteral","value":"This action lets you call a number via a calling card.","id":"631"},{"op":")","nodeType":"operator","id":"624"}],"tree":{"name":"prompt","parent":"Wall","nodeType":"call","args":[{"nodeType":"singletonRef","name":"wall","type":"Wall","id":"630"},{"nodeType":"stringLiteral","value":"This action lets you call a number via a calling card.","id":"631"}],"id":"62"},"locals":[],"nodeType":"exprHolder","id":"61"},"nodeType":"exprStmt","id":"60"},{"condition":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"66110"},{"name":"prefix","parent":"data","declId":"6","nodeType":"propertyRef","id":"651"},{"name":"count","parent":"String","nodeType":"propertyRef","id":"652"},{"op":"=","nodeType":"operator","id":"653"},{"op":"0","nodeType":"operator","id":"654"}],"tree":{"name":"=","parent":"Number","nodeType":"call","args":[{"name":"count","parent":"String","nodeType":"call","args":[{"name":"prefix","parent":"data","declId":"6","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"66110"}],"id":"6610"}],"id":"660"},{"nodeType":"numberLiteral","value":0,"id":"661"}],"id":"65"},"locals":[],"nodeType":"exprHolder","id":"64"},"thenBody":[{"expr":{"tokens":[{"nodeType":"singletonRef","name":"code","type":"code","id":"6730"},{"name":"reset calling card number","parent":"code","declId":"7","nodeType":"propertyRef","id":"6721"},{"op":"(","nodeType":"operator","id":"6722"},{"op":")","nodeType":"operator","id":"6723"}],"tree":{"name":"reset calling card number","parent":"code","declId":"7","nodeType":"call","args":[{"nodeType":"singletonRef","name":"code","type":"code","id":"6730"}],"id":"672"},"locals":[],"nodeType":"exprHolder","id":"671"},"nodeType":"exprStmt","id":"670"}],"elseBody":[{"expr":{"tokens":[],"tree":{"nodeType":"singletonRef","name":"$skip","type":"Unknown","id":"682"},"locals":[],"nodeType":"exprHolder","id":"681"},"nodeType":"exprStmt","id":"680"}],"nodeType":"if","id":"63"},{"expr":{"tokens":[{"nodeType":"localRef","name":"link","localId":"20","id":"6b0"},{"op":":=","nodeType":"operator","id":"6a1"},{"nodeType":"singletonRef","name":"phone","type":"Phone","id":"6b20"},{"name":"choose phone number","parent":"Phone","nodeType":"propertyRef","id":"6a3"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"link","localId":"20","id":"6b0"},{"name":"choose phone number","parent":"Phone","nodeType":"call","args":[{"nodeType":"singletonRef","name":"phone","type":"Phone","id":"6b20"}],"id":"6b1"}],"id":"6a"},"locals":[{"name":"link","type":"Link","nodeType":"localDef","id":"20"}],"nodeType":"exprHolder","id":"69"},"nodeType":"exprStmt","id":"68"},{"expr":{"tokens":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6e0"},{"op":":=","nodeType":"operator","id":"6d1"},{"nodeType":"localRef","name":"link","localId":"20","id":"6e20"},{"name":"address","parent":"Link","nodeType":"propertyRef","id":"6d3"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6e0"},{"name":"address","parent":"Link","nodeType":"call","args":[{"nodeType":"localRef","name":"link","localId":"20","id":"6e20"}],"id":"6e1"}],"id":"6d"},"locals":[{"name":"tel","type":"String","nodeType":"localDef","id":"21"}],"nodeType":"exprHolder","id":"6c"},"nodeType":"exprStmt","id":"6b"},{"expr":{"tokens":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6h0"},{"op":":=","nodeType":"operator","id":"6g1"},{"nodeType":"localRef","name":"tel","localId":"21","id":"6h20"},{"name":"replace","parent":"String","nodeType":"propertyRef","id":"6g3"},{"op":"(","nodeType":"operator","id":"6g4"},{"nodeType":"stringLiteral","value":"+","id":"6h21"},{"op":",","nodeType":"operator","id":"6g6"},{"nodeType":"stringLiteral","value":"","id":"6h22"},{"op":")","nodeType":"operator","id":"6g8"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6h0"},{"name":"replace","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6h20"},{"nodeType":"stringLiteral","value":"+","id":"6h21"},{"nodeType":"stringLiteral","value":"","id":"6h22"}],"id":"6h1"}],"id":"6g"},"locals":[],"nodeType":"exprHolder","id":"6f"},"nodeType":"exprStmt","id":"6e"},{"expr":{"tokens":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6k0"},{"op":":=","nodeType":"operator","id":"6j1"},{"nodeType":"localRef","name":"tel","localId":"21","id":"6k20"},{"name":"replace","parent":"String","nodeType":"propertyRef","id":"6j3"},{"op":"(","nodeType":"operator","id":"6j4"},{"nodeType":"stringLiteral","value":"-","id":"6k21"},{"op":",","nodeType":"operator","id":"6j6"},{"nodeType":"stringLiteral","value":"","id":"6k22"},{"op":")","nodeType":"operator","id":"6j8"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6k0"},{"name":"replace","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6k20"},{"nodeType":"stringLiteral","value":"-","id":"6k21"},{"nodeType":"stringLiteral","value":"","id":"6k22"}],"id":"6k1"}],"id":"6j"},"locals":[],"nodeType":"exprHolder","id":"6i"},"nodeType":"exprStmt","id":"6h"},{"expr":{"tokens":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6n0"},{"op":":=","nodeType":"operator","id":"6m1"},{"nodeType":"localRef","name":"tel","localId":"21","id":"6n20"},{"name":"replace","parent":"String","nodeType":"propertyRef","id":"6m3"},{"op":"(","nodeType":"operator","id":"6m4"},{"nodeType":"stringLiteral","value":")","id":"6n21"},{"op":",","nodeType":"operator","id":"6m6"},{"nodeType":"stringLiteral","value":"","id":"6n22"},{"op":")","nodeType":"operator","id":"6m8"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6n0"},{"name":"replace","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6n20"},{"nodeType":"stringLiteral","value":")","id":"6n21"},{"nodeType":"stringLiteral","value":"","id":"6n22"}],"id":"6n1"}],"id":"6m"},"locals":[],"nodeType":"exprHolder","id":"6l"},"nodeType":"exprStmt","id":"6k"},{"expr":{"tokens":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6q0"},{"op":":=","nodeType":"operator","id":"6p1"},{"nodeType":"localRef","name":"tel","localId":"21","id":"6q20"},{"name":"replace","parent":"String","nodeType":"propertyRef","id":"6p3"},{"op":"(","nodeType":"operator","id":"6p4"},{"nodeType":"stringLiteral","value":"(","id":"6q21"},{"op":",","nodeType":"operator","id":"6p6"},{"nodeType":"stringLiteral","value":"","id":"6q22"},{"op":")","nodeType":"operator","id":"6p8"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6q0"},{"name":"replace","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6q20"},{"nodeType":"stringLiteral","value":"(","id":"6q21"},{"nodeType":"stringLiteral","value":"","id":"6q22"}],"id":"6q1"}],"id":"6p"},"locals":[],"nodeType":"exprHolder","id":"6o"},"nodeType":"exprStmt","id":"6n"},{"expr":{"tokens":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6t0"},{"op":":=","nodeType":"operator","id":"6s1"},{"nodeType":"localRef","name":"tel","localId":"21","id":"6t20"},{"name":"replace regex","parent":"String","nodeType":"propertyRef","id":"6s3"},{"op":"(","nodeType":"operator","id":"6s4"},{"nodeType":"stringLiteral","value":"X\\d*","id":"6t21"},{"op":",","nodeType":"operator","id":"6s6"},{"nodeType":"stringLiteral","value":"","id":"6t22"},{"op":")","nodeType":"operator","id":"6s8"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6t0"},{"name":"replace regex","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6t20"},{"nodeType":"stringLiteral","value":"X\\d*","id":"6t21"},{"nodeType":"stringLiteral","value":"","id":"6t22"}],"id":"6t1"}],"id":"6s"},"locals":[],"nodeType":"exprHolder","id":"6r"},"nodeType":"exprStmt","id":"6q"},{"expr":{"tokens":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6w0"},{"op":":=","nodeType":"operator","id":"6v1"},{"nodeType":"localRef","name":"tel","localId":"21","id":"6w20"},{"name":"trim","parent":"String","nodeType":"propertyRef","id":"6v3"},{"op":"(","nodeType":"operator","id":"6v4"},{"nodeType":"stringLiteral","value":"","id":"6w21"},{"op":")","nodeType":"operator","id":"6v6"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6w0"},{"name":"trim","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6w20"},{"nodeType":"stringLiteral","value":"","id":"6w21"}],"id":"6w1"}],"id":"6v"},"locals":[],"nodeType":"exprHolder","id":"6u"},"nodeType":"exprStmt","id":"6t"},{"expr":{"tokens":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6z0"},{"op":":=","nodeType":"operator","id":"6y1"},{"nodeType":"singletonRef","name":"data","type":"data","id":"6z210"},{"name":"prefix","parent":"data","declId":"6","nodeType":"propertyRef","id":"6y3"},{"op":"∥","nodeType":"operator","id":"6y4"},{"nodeType":"localRef","name":"tel","localId":"21","id":"6z21"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6z0"},{"name":"∥","parent":"String","nodeType":"call","args":[{"name":"prefix","parent":"data","declId":"6","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"6z210"}],"id":"6z20"},{"nodeType":"localRef","name":"tel","localId":"21","id":"6z21"}],"id":"6z1"}],"id":"6y"},"locals":[],"nodeType":"exprHolder","id":"6x"},"nodeType":"exprStmt","id":"6w"},{"expr":{"tokens":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6C0"},{"name":"post to wall","parent":"String","nodeType":"propertyRef","id":"6B1"}],"tree":{"name":"post to wall","parent":"String","nodeType":"call","args":[{"nodeType":"localRef","name":"tel","localId":"21","id":"6C0"}],"id":"6B"},"locals":[],"nodeType":"exprHolder","id":"6A"},"nodeType":"exprStmt","id":"6z"},{"expr":{"tokens":[{"nodeType":"singletonRef","name":"phone","type":"Phone","id":"6F0"},{"name":"dial phone number","parent":"Phone","nodeType":"propertyRef","id":"6E1"},{"op":"(","nodeType":"operator","id":"6E2"},{"nodeType":"localRef","name":"tel","localId":"21","id":"6F1"},{"op":")","nodeType":"operator","id":"6E4"}],"tree":{"name":"dial phone number","parent":"Phone","nodeType":"call","args":[{"nodeType":"singletonRef","name":"phone","type":"Phone","id":"6F0"},{"nodeType":"localRef","name":"tel","localId":"21","id":"6F1"}],"id":"6E"},"locals":[],"nodeType":"exprHolder","id":"6D"},"nodeType":"exprStmt","id":"6C"}],"id":"1"},{"name":"prefix","comment":"","type":"String","isReadonly":false,"nodeType":"data","id":"6"},{"name":"reset calling card number","inParameters":[],"outParameters":[],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"c310"},{"name":"prefix","parent":"data","declId":"6","nodeType":"propertyRef","id":"c21"},{"op":":=","nodeType":"operator","id":"c22"},{"nodeType":"singletonRef","name":"wall","type":"Wall","id":"c320"},{"name":"ask string","parent":"Wall","nodeType":"propertyRef","id":"c24"},{"op":"(","nodeType":"operator","id":"c25"},{"nodeType":"stringLiteral","value":"Please enter the calling card number, including international prefix, and ending with pauses.\nThe number can be cleared with the reset action. ","id":"c321"},{"op":")","nodeType":"operator","id":"c27"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"name":"prefix","parent":"data","declId":"6","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"c310"}],"id":"c30"},{"name":"ask string","parent":"Wall","nodeType":"call","args":[{"nodeType":"singletonRef","name":"wall","type":"Wall","id":"c320"},{"nodeType":"stringLiteral","value":"Please enter the calling card number, including international prefix, and ending with pauses.\nThe number can be cleared with the reset action. ","id":"c321"}],"id":"c31"}],"id":"c2"},"locals":[],"nodeType":"exprHolder","id":"c1"},"nodeType":"exprStmt","id":"c0"},{"condition":{"tokens":[{"op":"not","nodeType":"operator","id":"c50"},{"nodeType":"singletonRef","name":"data","type":"data","id":"c6110"},{"name":"prefix","parent":"data","declId":"6","nodeType":"propertyRef","id":"c52"},{"name":"starts with","parent":"String","nodeType":"propertyRef","id":"c53"},{"op":"(","nodeType":"operator","id":"c54"},{"nodeType":"stringLiteral","value":"+","id":"c611"},{"op":")","nodeType":"operator","id":"c56"}],"tree":{"name":"not","parent":"Boolean","nodeType":"call","args":[{"name":"starts with","parent":"String","nodeType":"call","args":[{"name":"prefix","parent":"data","declId":"6","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"c6110"}],"id":"c610"},{"nodeType":"stringLiteral","value":"+","id":"c611"}],"id":"c60"}],"id":"c5"},"locals":[],"nodeType":"exprHolder","id":"c4"},"thenBody":[{"expr":{"tokens":[{"nodeType":"singletonRef","name":"data","type":"data","id":"c7310"},{"name":"prefix","parent":"data","declId":"6","nodeType":"propertyRef","id":"c721"},{"op":":=","nodeType":"operator","id":"c722"},{"nodeType":"stringLiteral","value":"+","id":"c7320"},{"op":"∥","nodeType":"operator","id":"c724"},{"nodeType":"singletonRef","name":"data","type":"data","id":"c73220"},{"name":"prefix","parent":"data","declId":"6","nodeType":"propertyRef","id":"c726"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"name":"prefix","parent":"data","declId":"6","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"c7310"}],"id":"c730"},{"name":"∥","parent":"String","nodeType":"call","args":[{"nodeType":"stringLiteral","value":"+","id":"c7320"},{"name":"prefix","parent":"data","declId":"6","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"c73220"}],"id":"c7321"}],"id":"c731"}],"id":"c72"},"locals":[],"nodeType":"exprHolder","id":"c71"},"nodeType":"exprStmt","id":"c70"}],"elseBody":[{"expr":{"tokens":[],"tree":{"nodeType":"singletonRef","name":"$skip","type":"Unknown","id":"c82"},"locals":[],"nodeType":"exprHolder","id":"c81"},"nodeType":"exprStmt","id":"c80"}],"nodeType":"if","id":"c3"},{"expr":{"tokens":[{"op":"(","nodeType":"operator","id":"ca0"},{"nodeType":"stringLiteral","value":"Number: ","id":"cb10"},{"op":"∥","nodeType":"operator","id":"ca2"},{"nodeType":"singletonRef","name":"data","type":"data","id":"cb120"},{"name":"prefix","parent":"data","declId":"6","nodeType":"propertyRef","id":"ca4"},{"op":")","nodeType":"operator","id":"ca5"},{"name":"post to wall","parent":"String","nodeType":"propertyRef","id":"ca6"}],"tree":{"name":"post to wall","parent":"String","nodeType":"call","args":[{"name":"∥","parent":"String","nodeType":"call","args":[{"nodeType":"stringLiteral","value":"Number: ","id":"cb10"},{"name":"prefix","parent":"data","declId":"6","nodeType":"call","args":[{"nodeType":"singletonRef","name":"data","type":"data","id":"cb120"}],"id":"cb11"}],"id":"cb0"}],"id":"ca"},"locals":[],"nodeType":"exprHolder","id":"c9"},"nodeType":"exprStmt","id":"c8"}],"id":"7"}],"nodeType":"app","id":"0"}
