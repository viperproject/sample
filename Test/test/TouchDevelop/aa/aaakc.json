{"textVersion":"v2.2,js,ctx","jsonVersion":"v0.0,resolved","name":"Set-Cookie bug","comment":"","autoIcon":"WritePage","autoColor":"#F4BBFF","platform":"current","showAd":false,"isLibrary":false,"allowExport":false,"decls":[{"name":"main","inParameters":[],"outParameters":[],"isPrivate":false,"isOffloaded":false,"isTest":false,"nodeType":"action","body":[{"text":"Please compare script output to actual Set-Cookie value from http header. Header from server contains newline delimited list of cookies, but this script only returns the first.","nodeType":"comment","id":"60"},{"expr":{"tokens":[],"tree":{"nodeType":"singletonRef","name":"$skip","type":"Unknown","id":"63"},"locals":[],"nodeType":"exprHolder","id":"62"},"nodeType":"exprStmt","id":"61"},{"text":"Defect observed on WP8 TouchDevelop app.","nodeType":"comment","id":"64"},{"expr":{"tokens":[],"tree":{"nodeType":"singletonRef","name":"$skip","type":"Unknown","id":"67"},"locals":[],"nodeType":"exprHolder","id":"66"},"nodeType":"exprStmt","id":"65"},{"text":"Please remember to clear your cookies before testing with an actual browser, as if your browser has a session ID already, you will only get one cookie back.","nodeType":"comment","id":"68"},{"expr":{"tokens":[{"nodeType":"localRef","name":"request","localId":"20","id":"6c0"},{"op":":=","nodeType":"operator","id":"6b1"},{"nodeType":"singletonRef","name":"web","type":"Web","id":"6c20"},{"name":"create request","parent":"Web","nodeType":"propertyRef","id":"6b3"},{"op":"(","nodeType":"operator","id":"6b4"},{"nodeType":"stringLiteral","value":"https://google.com","id":"6c21"},{"op":")","nodeType":"operator","id":"6b6"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"request","localId":"20","id":"6c0"},{"name":"create request","parent":"Web","nodeType":"call","args":[{"nodeType":"singletonRef","name":"web","type":"Web","id":"6c20"},{"nodeType":"stringLiteral","value":"https://google.com","id":"6c21"}],"id":"6c1"}],"id":"6b"},"locals":[{"name":"request","type":"Web Request","nodeType":"localDef","id":"20"}],"nodeType":"exprHolder","id":"6a"},"nodeType":"exprStmt","id":"69"},{"expr":{"tokens":[{"nodeType":"localRef","name":"response","localId":"21","id":"6f0"},{"op":":=","nodeType":"operator","id":"6e1"},{"nodeType":"localRef","name":"request","localId":"20","id":"6f20"},{"name":"send","parent":"Web Request","nodeType":"propertyRef","id":"6e3"}],"tree":{"name":":=","parent":"Unknown","nodeType":"call","args":[{"nodeType":"localRef","name":"response","localId":"21","id":"6f0"},{"name":"send","parent":"Web Request","nodeType":"call","args":[{"nodeType":"localRef","name":"request","localId":"20","id":"6f20"}],"id":"6f1"}],"id":"6e"},"locals":[{"name":"response","type":"Web Response","nodeType":"localDef","id":"21"}],"nodeType":"exprHolder","id":"6d"},"nodeType":"exprStmt","id":"6c"},{"expr":{"tokens":[{"nodeType":"localRef","name":"response","localId":"21","id":"6i10"},{"name":"header","parent":"Web Response","nodeType":"propertyRef","id":"6h1"},{"op":"(","nodeType":"operator","id":"6h2"},{"nodeType":"stringLiteral","value":"Set-Cookie","id":"6i11"},{"op":")","nodeType":"operator","id":"6h4"},{"name":"post to wall","parent":"String","nodeType":"propertyRef","id":"6h5"}],"tree":{"name":"post to wall","parent":"String","nodeType":"call","args":[{"name":"header","parent":"Web Response","nodeType":"call","args":[{"nodeType":"localRef","name":"response","localId":"21","id":"6i10"},{"nodeType":"stringLiteral","value":"Set-Cookie","id":"6i11"}],"id":"6i0"}],"id":"6h"},"locals":[],"nodeType":"exprHolder","id":"6g"},"nodeType":"exprStmt","id":"6f"}],"id":"1"}],"nodeType":"app","id":"0"}
