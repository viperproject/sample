var next: Ref
var val: Int

method contains(list: Ref, needle: Ref) returns (res: Bool)
    requires (list != null && needle != null)
{
    var cur: Ref
    cur := list
    // Design space: Leave loop when found
    // Design space: Test equality in loop guard, then check whether cur == null afterwards.
    while (cur != null && cur != needle) {
        cur := cur.next
    }
    res := (cur == null)
}