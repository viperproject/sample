var val: Int

method incNTimes(this: Ref, n: Int) returns (other: Ref)
{
  var i: Int
  var tmp: Ref
  other := new()
  other.val := this.val + 1
  tmp := new() // To make sample happy
  i := 1
  while (i < n)
  {
    // Apparently, assigning to other directly does not work
    tmp := new()
    tmp.val := other.val + 1
    other := tmp
    i := i + 1
  }
}